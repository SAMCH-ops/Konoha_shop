// ================================
// 1. Liste des produits
// ================================

const products = [
    {
        id: 1,
        name: "Kimono Akatsuki Elegance",
        price: "20 000 FCFA",
        image: "assets/images/Robe avec noeu.jpg",
        description: "Un kimono noir et rouge inspir√© de l‚Äôunivers otaku, avec un design Akatsuki √©l√©gant et un n≈ìud majestueux pour un look unique et puissant."
    },
    {
        id: 2,
        name: "Cape Akatsuki Classique",
        price: "25 000 FCFA",
        image: "assets/images/Robe nuage Otaku.jpg",
        description: "La cape incontournable des ninjas ren√©gats : l√©g√®re, sombre, iconique et parfaite pour tout fan d‚Äôunivers otaku."
    },
    {
        id: 3,
        name: "Akatsuki Royale",
        price: "18 000 FCFA",
        image: "assets/images/Robe evase.jpg",
        description: "Robe inspir√©e de l‚ÄôAkatsuki, avec d√©tails rouges embl√©matiques et coupe en couches √©l√©gante. Un look otaku chic et puissant pour se d√©marquer."
    },
    {
        id: 4,
        name: "Figurine Nezuko Kamado - Mini Edition",
        price: "10 000 FCFA",
        image: "assets/images/Figurine Nezuko Kamado.jpg",
        description: "Adorable figurine de Nezuko avec son kimono rose iconique et son bambou. Parfaite pour les fans de Demon Slayer et pour d√©corer ton espace otaku."
    },
    {
        id: 5,
        name: "Hoodie Muichiro - Edition Brume",
        price: "15 000 FCFA",
        image: "assets/images/Pull Muichiro Tokito.jpg",
        description: "Sweat doux et confortable inspir√© du Pilier de la Brume. Un style √©pur√© et otaku parfait pour affronter toutes les saisons."
    },
    {
        id: 7,
        name: "Porte-Cles-Ninja (Edition Naruto)",
        price: "2 500 FCFA",
        image: "assets/images/Porte-cles.jpg",
        description: "Porte-cl√©s styl√©s inspir√©s des villages et clans l√©gendaires de Naruto. Accessoire parfait pour personnaliser cl√©s, sacs ou tenues otaku."
    },
    {
        id: 8,
        name: "Noeuds Demon Slayer (Collection Kimono)",
        price: "5 000 FCFA",
        image: "assets/images/Noeux.jpg",
        description: "De jolis n≈ìuds inspir√©s des tenues iconiques de Demon Slayer. Accessoire parfait pour cheveux, sacs ou tenues kawaii."
    },
    {
        id: 9,
        name: "Gobelet Naruto (Edition Konoha)",
        price: "8 000 FCFA",
        image: "assets/images/Mug.jpg",
        description: "Un gobelet styl√© aux couleurs de Konoha, avec un mini Naruto sur la paille. Parfait pour les fans qui veulent boire avec classe ! üåÄüç•üåü"
    },
    {
        id: 10,
        name: "Set Accessoires Shinobi (Edition Papillon)",
        price: "10 000 FCFA",
        image: "assets/images/Ensemble collier.jpg",
        description: "Un ensemble √©l√©gant inspir√© de Shinobu, parfait pour ajouter une touche d‚Äôanime chic √† ton style. L√©ger, brillant et super iconique ! ü¶ãüíúüî•"
    },
    {
        id: 11,
        name: "Sneakers Akatsuki Storm",
        price: "12 000 FCFA",
        image: "assets/images/Chaussure.jpg",
        description: "Un ensemble √©l√©gant inspir√© de Shinobu, parfait pour ajouter une touche d‚Äôanime chic √† ton style. L√©ger, brillant et super iconique ! ü¶ãüíúüî•"
    },
    {
        id: 12,
        name: "Bracelet Ninja Legacy",
        price: "5 000 FCFA",
        image: "assets/images/Bracelet.jpg",
        description: "Bracelet charm inspir√© de l‚Äôunivers shinobi, avec symboles iconiques et d√©tails rouges √©clatants. Parfait pour les vrais fans au style discret mais puissant. üî•üå™Ô∏è"
    },
    {
        id: 13,
        name: "Boucles 'Aube Du Soleil'",
        price: "5 000 FCFA",
        image: "assets/images/boucles d'oreilles.jpg",
        description: "Boucles d‚Äôoreilles inspir√©es du motif du soleil levant, au design √©pur√© et symbolique. Un style unique qui attire l‚Äô≈ìil et compl√®te parfaitement un look otaku chic. ‚òÄÔ∏è‚ú®"
    },
    {
        id: 14,
        name: "Accessoires Inoxydables",
        price: "5 000 FCFA",
        image: "assets/images/Accessoires Inoxydables.jpg",
        description: "Ces articles incluent des pendentifs et une bague associ√©s √† l'organisation criminelle Akatsuki (le nuage rouge). Un autre pendentif repr√©sente le symbole du village de Konoha (le village cach√© des feuilles). Ces bijoux sont populaires parmi les fans pour le cosplay ou comme accessoires de mode quotidiens. Ils sont g√©n√©ralement fabriqu√©s en alliage de zinc ou en acier, et sont souvent disponibles en ligne aupr√®s de divers d√©taillants."
    },
    {
        id: 15,
        name: "Bol Ramen Naruto",
        price: "8 000 FCFA",
        image: "assets/images/Bol/Baguettes.jpg",
        description: "Capacit√© :Le bol a une contenance d'environ 470 ml (16 oz). Mat√©riau : Il est fabriqu√© en c√©ramique de haute qualit√©. Design pratique : Le bol est dot√© d'un trou et d'une encoche int√©gr√©s pour maintenir les baguettes en place. Licence officielle : C'est un produit officiel de Just Funky, inspir√© de la s√©rie d'anime et de manga Naruto."
    }
];


// ================================
// 2. Page d‚Äôaccueil (Index.html)
// ================================

document.addEventListener("DOMContentLoaded", () => {
    const productList = document.getElementById("product-list");

    if (productList) {
        productList.innerHTML = products
            .map(product => `
                <div class="product-card">
                    <img src="${product.image}" alt="${product.name}">
                    <h3>${product.name}</h3>
                    <p>${product.price}</p>
                    <a href="DetailsProduits.html?id=${product.id}" class="btn-product">
                        Voir le produit
                    </a>
                    <button class="add-to-cart-btn" onclick="addToCart(${product.id})">Ajouter au panier</button>
                </div>
            `)
            .join("");
    }
});


// ================================
// 3. Page D√©tailsProduits.html
// ================================

document.addEventListener("DOMContentLoaded", () => {
    const detailsContainer = document.getElementById("product-details");

    if (detailsContainer) {
        const params = new URLSearchParams(window.location.search);
        const productId = parseInt(params.get("id"));

        if (!productId) {
            detailsContainer.innerHTML = "<p style='color:white;'>Aucun produit s√©lectionn√©.</p>";
            return;
        }

        const product = products.find(p => p.id === productId);

        if (!product) {
            detailsContainer.innerHTML = "<p style='color:white;'>Produit introuvable.</p>";
            return;
        }

        // Affichage du produit
        detailsContainer.innerHTML = `
            <div class="details-card">
                <img src="${product.image}" alt="${product.name}">
                <h2>${product.name}</h2>
                <p class="price">${product.price}</p>
                <p>${product.description || "Aucune description disponible."}</p>
            </div>
        `;
    }
});
function loadCartCount() {
    let cart = JSON.parse(localStorage.getItem("cart")) || [];
    document.getElementById("cart-count").textContent = cart.length;
}

function addToCart(productId) {
    let product = products.find(p => p.id === productId);
    let cart = JSON.parse(localStorage.getItem("cart")) || [];
    
    cart.push(product);
    localStorage.setItem("cart", JSON.stringify(cart));

    loadCartCount();
    alert("Produit ajout√© au panier !");
}

document.addEventListener("DOMContentLoaded", loadCartCount);

// ===============================
// BARRE DE RECHERCHE DES PRODUITS
// ===============================
document.getElementById("searchInput").addEventListener("input", function () {
    let searchValue = this.value.toLowerCase();
    let cards = document.querySelectorAll(".product-card");

    cards.forEach(card => {
        let productName = card.querySelector("h3").textContent.toLowerCase();

        if (productName.includes(searchValue)) {
            card.style.display = "block";  // Affiche le produit
        } else {
            card.style.display = "none";   // Cache le produit
        }
    });
});